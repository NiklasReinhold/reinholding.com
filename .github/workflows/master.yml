# .github/actions/master.yml
on:
  push:
    branches:
      - master
name: ğŸš€ Deploy website on push 

jobs:
  my-first-job:
    name: ğŸ‰ Deploy
runs-on: ubuntu-latest
steps:
  - name: ğŸšš Get latest code
    uses: actions/checkout@v2

  - name: Use Node.js 16
    uses: actions/setup-node@v2-beta
    with:
      node-version: "16.15.1"

  - name: ğŸ”¨ Build Project
    run: |
      npm install
      npm run build:web

  - name: ğŸ“‚ Sync files
    uses: SamKirkland/FTP-Deploy-Action@4.1.0
    with:
      server: ftp.reinholding.com
      username: ${{ secrets.ftp_username }}
      password: ${{ secrets.ftp_password }}
      local-dir: ./web-build/